<!-- ナビゲーションバー全体 -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">Ruby命名規則生成ツール</a>

  <!-- スマホ用のハンバーガーメニュー -->
  <button class="navbar-toggler" 
      type="button" 
      data-toggle="collapse" 
      data-target="#navbarToogleContent" 
      aria-controls="navbarToogleContent" 
      aria-expanded="false" 
      aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarToogleContent">
    <!-- ナビゲーションバー左 -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item <%= 'active' if request.path == '/tool' %> ">
        <a href="/tool" class="nav-link">変換</a>
      </li>
      <li class="nav-item <%= 'active' if request.path == '/words' %> ">
        <a href="/words" class="nav-link">単語一覧</a>
      </li>
    </ul>

    <!-- ナビゲーションバー右 -->
    <ul class="navbar-nav">
      <!-- ドロップダウンメニュー -->
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" 
            href="#" 
            id="navbarDropdown" 
            role="button" 
            data-toggle="dropdown" 
            aria-haspopup="true" 
            aria-expanded="false">
              <% if current_user.present? %>
                <%= current_user.email %>
              <% else %>
                ログイン
              <% end %>
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <% if current_user.present? && current_user.roll == 2 %>
                  <a class="dropdown-item" href="/users/index">ユーザー一覧</a>
                <% end %>
                <% if current_user.present? %>
                  <%= link_to 'ログアウト', 
                    destroy_user_session_path,
                    class: 'dropdown-item',
                    method: :delete
                  %>
                <% else %>
                  <a class="dropdown-item" href="/users/sign_in">ログイン</a>
                <% end %>
              </div>
      </li>
    </ul>
  </div>
</nav>